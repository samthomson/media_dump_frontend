<html>
	<head>
		<title>media-dump: sam thomsons pictures &amp; videos</title>

		<!-- meta -->
    	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

		<!-- css & fonts -->
		<!-- fonts -->
		<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
		<link href='http://fonts.googleapis.com/css?family=Muli' rel='stylesheet' type='text/css'>
		<!-- bootstrap -->
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
		<!-- app specific -->
		<link rel="stylesheet" href="/css/style.css" type="text/css">
	</head>
	<body ng-app="mediadumpApp">

		<noscript>Sorry, this page uses Javascript, which isn't enabled in your browser. You need to turn it on.</noscript>

		<!-- the actual webpage -->
		<div id="mainBody" ng-controller="mediadumpCtrl">
			<div id="header" class="clearfix">
				<a id="logo" ng-click="query = ''">media-dump</a>
				<div id="search_input">					
					<div class="input-group">
					    <input class="form-control" id="search_text_input" name="key" placeholder="type for search suggestions..." ng-model="query" type="text">

					    <div class="input-group-btn">
					        <button class="btn btn-default" id="toggle_advanced_search_form" ng-click="bShowAdvancedSearch = !bShowAdvancedSearch" title="advanced search" type="button" ng-class="{true:'advanced_showing'}[(bShowAdvancedSearch && bResults())]">
					        	<i class="glyphicon glyphicon-sort-by-attributes"></i>&nbsp;
				        	</button>

							<button class="btn btn-default" ng-click="search_mode = 'search'" type="button" ng-class="{active: search_mode == 'search'}">
								grid
							</button>
							<button class="btn btn-default" ng-click="search_mode = 'map'" type="button" ng-class="{active: search_mode == 'map'}">
								map
							</button>
					    </div>
					</div>
					<div id="advanced_search" class="light_opacity" ng-show="bShowAdvancedSearch">
						<div class="row">
							<div class="col-xs-9">
								<a ng-click="addFilter($index)" ng-repeat="filter in available_filters">{{filter.value}}</a>&nbsp;
								<hr/>
								sort
							</div>
							<div class="col-xs-3">
								<div class="form-group">
									<div class="btn-group">
										<button type="button" class="btn btn-default" ng-class="{true:'active'}[operator === 'and']" ng-click="operator='and'">and</button>
										<button type="button" class="btn btn-default" ng-class="{true:'active'}[operator === 'or']" ng-click="operator='or'">or</button>
									</div>
									<hr/>
									<a class="btn btn-default" ng-show="bUpdate()" ng-click="refreshSearch();">update</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div id="main">

				<div id="nav">
					left - nav (tree and map tab)
				</div>

				<div id="results">
					<!-- thumb results (grid search) -->
					<div id="thumb_results" ng-show="search_mode === 'search'">
						<a class="thumb_result_link" ng-repeat="result in results" ng-click="thumb_click($index)"><img ng-src="{{urlFromHash('thumbs', result, '')}}"/></a>
					</div>

					<!-- map results (map search) -->
					<div id="map_result_container" ng-show="bMapVisible()" ng-if="bMapVisible()">
					<!--<div id="map_result_container">-->
						<google-map 
							center="map.center" 
							zoom="map.zoom" 
							draggable='true'
							bounds="map.bounds"
							>
							<markers
								models="markers"
								coords="'self'"
								doCluster="true"
								icon="'icon'"
								events="markersEvents"
								>
							</markers>
						</google-map>
					</div>

				</div>
			</div>


			<div id="lightbox" ng-show="iLightIndex > -1">
				<a class="lightbox_button" id="close_lightbox" ng-click="close_lightbox();">
					<i class="fa fa-times"></i>
				</a>
				<a class="lightbox_button" id="left_lightbox" ng-click="lightChange(-1);">
					<i class="fa fa-arrow-left"></i>
				</a>
				<a class="lightbox_button" id="right_lightbox" ng-click="lightChange(1);">
					<i class="fa fa-arrow-right"></i>
				</a>
				<a ng-click="lightChange(1);">
					<img ng-src="http://mdcdn/thumb/lightbox/{{results[iLightIndex].id}}.jpg" />
				</a>
			</div>
						
		</div>

		<!-- scripts & analytics
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> -->
		<script src="/js/jquery_fallback_1_11_1.min.js"></script>

		<!-- angular 
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular.min.js"></script>-->
		<script src="/js/angular_1_2_fallback.min.js"></script>
        <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.10/angular-route.js"></script>

        <script src='/js/lodash.min.js'></script>
        <script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>
		<script src='/js/angular-google-maps.min.js'></script>
		<!-- bootstrap -->
		<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

		<!-- app -->
		<script src="/js/app.js"></script>
	</body>
</html>